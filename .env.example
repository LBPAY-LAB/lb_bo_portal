# ===================================================================
# LB Portal Container - Environment Variables (DEVELOPMENT)
# ===================================================================
# Copy this file to .env and adjust values as needed
# IMPORTANT: Never commit .env to git (contains secrets)
# ===================================================================

# ===================================================================
# PostgreSQL Configuration
# ===================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=portal_user
POSTGRES_PASSWORD=portal_dev_pass
POSTGRES_DB=payload_dev

# Additional databases (created by init-db.sh)
KEYCLOAK_DB=keycloak_dev

# Connection pooling
POSTGRES_MAX_CONNECTIONS=200

# ===================================================================
# Keycloak Configuration
# ===================================================================
KEYCLOAK_HOST=localhost
KEYCLOAK_PORT=8080
KEYCLOAK_ADMIN_PORT=8443

# Admin credentials (DEVELOPMENT ONLY - Change in production!)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Realm configuration
KEYCLOAK_REALM=lbpay-portal
KEYCLOAK_CLIENT_ID=payload-portal
KEYCLOAK_CLIENT_SECRET=change-me-in-production

# Logging
KEYCLOAK_LOG_LEVEL=info

# Realm import (optional - set path to realm.json)
KEYCLOAK_IMPORT_REALM=/opt/keycloak/data/import/realm.json

# ===================================================================
# Redis Configuration
# ===================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_MAX_MEMORY=256mb
REDIS_DB=0

# ===================================================================
# PayloadCMS Configuration
# ===================================================================
PAYLOAD_SECRET=your-secret-key-min-32-chars-change-me
PAYLOAD_PUBLIC_SERVER_URL=http://localhost:3000

# Database URL (PostgreSQL)
DATABASE_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# S3 Storage (optional - local storage in dev)
S3_ENABLED=false
S3_BUCKET=
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# Email (optional - console in dev)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM_NAME=LBPay Portal
SMTP_FROM_EMAIL=noreply@lbpay.com

# ===================================================================
# Application Settings
# ===================================================================
NODE_ENV=development
PORT=3000

# Regional settings
DEFAULT_REGION=sudeste
REGIONS=norte,nordeste,centro-oeste,sudeste,sul

# Feature flags
ENABLE_AUDIT_LOGS=true
ENABLE_NOTIFICATIONS=true
ENABLE_WEBHOOKS=false

# ===================================================================
# Monitoring & Observability (optional in dev)
# ===================================================================
ENABLE_METRICS=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# ===================================================================
# Security Settings
# ===================================================================
# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Session timeout (minutes)
SESSION_TIMEOUT=30

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# ===================================================================
# Development Tools
# ===================================================================
DEBUG=payload:*
LOG_LEVEL=debug

# Seed database with sample data
SEED_DATABASE=false

# Auto-reload on file changes
AUTO_RELOAD=true
